(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"./src/docs/documentation/projects.mdx":function(e,a,o){"use strict";o.r(a),o.d(a,"default",function(){return i});var r=o("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),t=(o("./node_modules/react/index.js"),o("./node_modules/@mdx-js/react/dist/index.es.js")),n={},s="wrapper";function i(e){var a=e.components,o=Object(r.a)(e,["components"]);return Object(t.b)(s,Object.assign({},n,o,{components:a,mdxType:"MDXLayout"}),Object(t.b)("h1",{id:"projeto-internet-banking"},"Projeto INTERNET BANKING"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("h2",Object.assign({parentName:"li"},{id:"se-estiver-criando-uma-nova-release-do-produto-se-atente-a-se\xe7\xe3o-configurando-para-novos-releases"}),"Se estiver criando uma nova release do produto se atente a se\xe7\xe3o ",Object(t.b)("em",{parentName:"h2"},Object(t.b)("a",Object.assign({parentName:"em"},{href:"#Configurando-para-novos-releases"}),"Configurando para novos releases")))),Object(t.b)("li",{parentName:"ul"},Object(t.b)("h2",Object.assign({parentName:"li"},{id:"se-estiver-clonando-o-projeto-para-trabalhar-sobre-uma-release-j\xe1-existente-se-atente-a-se\xe7\xe3o-desenvolvimento"}),"Se estiver clonando o projeto para trabalhar sobre uma release j\xe1 existente se atente a se\xe7\xe3o ",Object(t.b)("em",{parentName:"h2"},Object(t.b)("a",Object.assign({parentName:"em"},{href:"#Desenvolvimento"}),"Desenvolvimento"))))),Object(t.b)("h2",{id:"palavras-chave"},"Palavras-chave"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"https://developer.android.com/studio/build/build-variants"}),"Flavors"),": S\xe3o tipos de compila\xe7\xe3o e s\xe3o utilizados para organizar os diferentes releases. Podem ser configurados no menu (Build > Edit Flavors) no Android Studio"),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:"https://developer.apple.com/library/archive/featuredarticles/XcodeConcepts/Concept-Targets.html"}),"Targets/Schemes"),": Definem um produto a ser gerado e contem as instru\xe7\xf5es necess\xe1rias para a gera\xe7\xe3o do produto"),Object(t.b)("li",{parentName:"ul"},Object(t.b)("a",Object.assign({parentName:"li"},{href:""}),"Packager")," O packager \xe9 o processo repons\xe1vel por juntar os m\xf3dulos javascript/typescript em um unico arquivo denominado ",Object(t.b)("em",{parentName:"li"},"bundle"),", detectar altera\xe7\xf5es nesses arquivos e atualizar esse ",Object(t.b)("em",{parentName:"li"},"bundle"),". Esse ",Object(t.b)("em",{parentName:"li"},"bundle")," \xe9 integrado ao execut\xe1vel da aplica\xe7\xe3o (.apk/.ipa)")),Object(t.b)("h1",{id:"-conceito-importante-"},Object(t.b)("strong",{parentName:"h1"},Object(t.b)("em",{parentName:"strong"},"!!! CONCEITO IMPORTANTE !!!"))),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Quando a aplica\xe7\xe3o \xe9 executada utilizando o comando ",Object(t.b)("inlineCode",{parentName:"li"},'react-native run-ios --scheme="Nome do scheme"')," ou ",Object(t.b)("inlineCode",{parentName:"li"},'react-native run-android --variant="Nome do flavor"')," o ",Object(t.b)("strong",{parentName:"li"},"packager")," depende da vari\xe1vel ",Object(t.b)("em",{parentName:"li"},"REACT_APP_COSTUMER")," estar presente no sistema. Veja abaixo na se\xe7\xe3o ",Object(t.b)("strong",{parentName:"li"},Object(t.b)("em",{parentName:"strong"},"Configura\xe7\xe3o do ambiente"))," no 2\xba item, como definir e os valores aceitos para esta vari\xe1vel.")),Object(t.b)("h2",{id:"configurando-para-novos-releases"},"Configurando para novos releases"),Object(t.b)("p",null,"Abaixo descrevem-se as etapas necess\xe1rias para configurar uma nova release do projeto"),Object(t.b)("h3",{id:"react-native"},"REACT NATIVE"),Object(t.b)("p",null,"Dentro de ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"src/assets/themes/"}),"src/assets/themes")," deve ser criado uma nova pasta com o conte\xfado da nova release.\nOs arquivos necess\xe1rios para a nova release:"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"colors.js (Com as cores do projeto)"),Object(t.b)("li",{parentName:"ul"},"fonts.js (Com as fontes do projeto (Se forem adicionadas novas fontes, devem ser vinculadas no projeto nativo Android/iOS))"),Object(t.b)("li",{parentName:"ul"},"images/ (As imagens utilizadas pelo projeto)")),Object(t.b)("h3",{id:"ios"},"iOS"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Deve ser criado um novo ",Object(t.b)("strong",{parentName:"li"},"target")," para a nova release. Isso pode ser feito duplicando um target existente nas configura\xe7\xf5es do projeto. "),Object(t.b)("li",{parentName:"ul"},"Dentro da aba ",Object(t.b)("em",{parentName:"li"},"Build Phases")," na fase ",Object(t.b)("em",{parentName:"li"},"Bundle React Native code and images")," deve se definida ap\xf3s a linha ",Object(t.b)("em",{parentName:"li"},"export NODE_BINARY=node")," a linha ",Object(t.b)("em",{parentName:"li"},'export REACT_APP_COSTUMER="Uma das pastas configuradas no React Native"'))),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),'export NODE_BINARY=node\nexport REACT_APP_COSTUMER="Uma das pastas configuradas no React Native"\n../node_modules/react-native/scripts/react-native-xcode.sh\n')),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Deve ser configurado um novo scheme para buildar o target existente. Isso pode ser feito duplicando algum scheme existente."),Object(t.b)("li",{parentName:"ul"},"Os recursos de icone do aplicativo e launchscreen da nova release devem ser configurados da seguinte forma:"),Object(t.b)("li",{parentName:"ul"},"Crie um novo pacote de recursos (.xcassets), e associe ao ",Object(t.b)("em",{parentName:"li"},"target")," da release marcando-o na se\xe7\xe3o ",Object(t.b)("strong",{parentName:"li"},"Target membership")," (caso necess\xe1rio desmarque de targets que n\xe3o est\xe3o relacionados ao produto)"),Object(t.b)("li",{parentName:"ul"},"Dentro do pacote de recursos crie um novo recurso de icone (App Icons & Launch Images > New iOS App Icon) nomeado ",Object(t.b)("em",{parentName:"li"},"AppIcon")," e forne\xe7a a imagens para os \xedcones da release"),Object(t.b)("li",{parentName:"ul"},"Ainda dentro do pacote de recursos crie um novo recurso de imagem (New Image Set) nomeado ",Object(t.b)("em",{parentName:"li"},"splash_screen")," e forne\xe7a os arquivos de imagem da splash_screen")),Object(t.b)("h3",{id:"android"},"ANDROID"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Deve ser criado um novo ",Object(t.b)("strong",{parentName:"li"},"flavor")," para a nova release. Pode ser definida pelo menu (Build > Edit Flavors) no Android Studio"),Object(t.b)("li",{parentName:"ul"},"Dentro das configura\xe7\xf5es do novo ",Object(t.b)("strong",{parentName:"li"},"flavor")," deve ser definida a vari\xe1vel ",Object(t.b)("em",{parentName:"li"},"costumer"),' = "Uma das pastas configuradas no React Native" ')),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-gradle"}),"//Arquivo /android/app/build.gradle\nandroid {\n  ...\n  flavorDimensions 'dimension'\n  productFlavors {\n    flavorName {\n      dimension = 'dimension'\n      //Esta vari\xe1vel ser\xe1 usada pelo React Native para apontar para a pasta com os recursos da nova release\n      costumer = 'Uma das pastas configuradas em /src/assets/themes/'\n    }\n  }\n  ...\n}\n")),Object(t.b)("h1",{id:""}),Object(t.b)("h2",{id:"desenvolvimento"},"Desenvolvimento"),Object(t.b)("p",null,"Abaixo est\xe3o descritos os requisitos necess\xe1rios para um melhor desenvolvimento na arquitetura descrita na se\xe7\xe3o anterior"),Object(t.b)("h3",{id:"configura\xe7\xe3o-do-ambiente"},"Configura\xe7\xe3o do ambiente"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"No momento da elabora\xe7\xe3o deste manual a vers\xe3o das ferramentas utilizadas no desenvolvimento eram:",Object(t.b)("ul",{parentName:"li"},Object(t.b)("li",{parentName:"ul"},"npm: 6.4.1"),Object(t.b)("li",{parentName:"ul"},"node: 10.15.3"),Object(t.b)("li",{parentName:"ul"},"java: 1.8.0_211"),Object(t.b)("li",{parentName:"ul"},"XCode: 10.2.1"))),Object(t.b)("li",{parentName:"ul"},"A vari\xe1vel REACT_APP_COSTUMER deve ser definida no ambiente utilizado com o valor igual a algum dos diret\xf3rios da pasta ",Object(t.b)("a",Object.assign({parentName:"li"},{href:"src/assets/themes"}),"src/assets/themes"),". Isso se deve devido as vari\xe1veis configuradas no ",Object(t.b)("strong",{parentName:"li"},"flavor"),"/",Object(t.b)("strong",{parentName:"li"},"target")," n\xe3o serem definidas na sess\xe3o do ",Object(t.b)("strong",{parentName:"li"},"packager")," iniciado pelo comando ",Object(t.b)("em",{parentName:"li"},"react-native run-android"),"/",Object(t.b)("em",{parentName:"li"},"react-native run-ios"))),Object(t.b)("h3",{id:"executando-a-aplica\xe7\xe3o"},"Executando a aplica\xe7\xe3o"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Para iniciar o aplicativo deve ser utilizado o seguinte comando:")),Object(t.b)("h4",{id:"android-1"},"Android"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("strong",{parentName:"li"},"A vari\xe1vel REACT_APP_COSTUMER deve estar definida para que o packager do React Native possa apontar para os recursos da release"))),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-console"}),'# Esse comando \xe9 opcional e s\xf3 \xe9 necess\xe1rio quando a vari\xe1vel REACT_APP_COSTUMER foi definida dentro da sess\xe3o do terminal\nreact-native start \nreact-native run-android --variant="O nome do flavor da release"Debug\n')),Object(t.b)("h4",{id:"ios-1"},"iOS"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("strong",{parentName:"li"},"A vari\xe1vel REACT_APP_COSTUMER deve estar definida para que o packager do React Native possa apontar para os recursos espec\xedficos da release"))),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{}),'# Esse comando \xe9 opcional e s\xf3 \xe9 necess\xe1rio quando a vari\xe1vel REACT_APP_COSTUMER foi definida dentro da sess\xe3o do terminal\nreact-native start \nreact-native run-ios --scheme="O nome do scheme da release"\n')),Object(t.b)("h3",{id:"gerando-a-release"},"Gerando a release"),Object(t.b)("p",null,"Para gerar uma vers\xe3o de publica\xe7\xe3o da release, deve ser executado o seguinte processo para cada uma das plataformas:"),Object(t.b)("h4",{id:"android-2"},"Android"),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-console"}),"cd android\n.\\gradlew clean\n.\\gradlew assemble(O nome do flavor)Release\n")),Object(t.b)("p",null,"Ap\xf3s conclu\xeddo o processo a APK para publica\xe7\xe3o estar\xe1 dispon\xedvel na pasta ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"android/app/build/outputs/release/"}),"android/app/build/outputs/release/O nome do flavor/arquivo.apk")),Object(t.b)("h4",{id:"ios-2"},"iOS"),Object(t.b)("p",null,"Selecione o scheme da release especifica, selecione o dispositivo ",Object(t.b)("em",{parentName:"p"},"Generic iOS Device")," e selecione a op\xe7\xe3o (Product > Archive). Vale lembrar que para executar o archive deve ser utilizado um perfil de desenvolvedor na App Store"),Object(t.b)("h1",{id:"erros-comuns"},"Erros comuns"),Object(t.b)("h2",{id:"android-3"},"Android"),Object(t.b)("h3",{id:"android-erro-ao-compilar-o-lottie-react-native-nullpointerexception"},"(Android) Erro ao compilar o lottie-react-native NullPointerException"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"A vers\xe3o do java utilizada pela equipe de desenvolvimento \xe9 a 1.8.0_211 vers\xf5es mais recentes ou mais antigas n\xe3o foram testadas e por isso podem n\xe3o funcionar com a vers\xe3o atual da aplica\xe7\xe3o.")),Object(t.b)("h3",{id:"android-algum-erro-ao-gerar-a-release-ou-executar-a-aplica\xe7\xe3o"},"(Android) Algum erro ao gerar a release ou executar a aplica\xe7\xe3o"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("p",{parentName:"li"},"As vezes o Instant Run pode interferir na gera\xe7\xe3o do APK, devido a isso recomenda-se desabilitar o Instant Run no Android Studio")),Object(t.b)("li",{parentName:"ul"},Object(t.b)("p",{parentName:"li"},"Quando o projeto \xe9 aberto pela primeira vez, o Android Studio oferece a op\xe7\xe3o de atualizar o Gradle. Essa altera\xe7\xe3o na vers\xe3o do gradle ainda n\xe3o funciona com a vers\xe3o de algumas bibliotecas usadas no projeto, logo a atualiza\xe7\xe3o pode quebrar o build no Android. No momento de elabora\xe7\xe3o deste manual, a vers\xe3o utilizada \xe9 a ",Object(t.b)("em",{parentName:"p"},"4.4-all")," no arquivo ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"android/gradle/wrapper/gradle-wrapper.properties"}),"gradle-wrapper.properties")))),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{className:"language-ini"}),"...\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.4-all.zip\n")),Object(t.b)("h3",{id:"ios-algum-erro-ao-gerar-a-release-ou-executar-a-aplica\xe7\xe3o"},"(iOS) Algum erro ao gerar a release ou executar a aplica\xe7\xe3o"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"Erro ao gerar a release ou executar a aplica\xe7\xe3o.\n",Object(t.b)("inlineCode",{parentName:"li"},"'React/RCT*.h' file not found")," Certifique-se de que dentro do ",Object(t.b)("strong",{parentName:"li"},"scheme")," da release o ",Object(t.b)("strong",{parentName:"li"},"target")," do React esta definido e o build paralelo desabilitado, j\xe1 que a release depende do ",Object(t.b)("strong",{parentName:"li"},"target")," do React")),Object(t.b)("h3",{id:"ap\xf3s-alterar-o-arquivo-babelrcjs-ou-o-valor-de-react_app_costumer-o-aplicativo-obt\xe9m-os-arquivos-do-valor-anterior"},"Ap\xf3s alterar o arquivo .babelrc.js ou o valor de REACT_APP_COSTUMER o aplicativo obt\xe9m os arquivos do valor anterior"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},"O packager mant\xe9m uma vers\xe3o em cache do arquivo ",Object(t.b)("a",Object.assign({parentName:"li"},{href:".babelrc.js"}),".babelrc.js"),". Dessa forma uma altera\xe7\xe3o do arquivo ou da vari\xe1vel pode n\xe3o se refletir de maneira imediata. Para que o packager utilize a nova vers\xe3o do arquivo ou variavel \xe9 necess\xe1rio utilizar o comando.")),Object(t.b)("pre",null,Object(t.b)("code",Object.assign({parentName:"pre"},{}),"react-native start --reset-cache\n")),Object(t.b)("h1",{id:"sugest\xf5es"},"Sugest\xf5es"),Object(t.b)("h2",{id:"para-gerenciar-as-vers\xf5es-do-nodejs-e-npm"},"Para gerenciar as vers\xf5es do NodeJS e npm"),Object(t.b)("ul",null,Object(t.b)("li",{parentName:"ul"},Object(t.b)("p",{parentName:"li"},Object(t.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/nvm-sh/nvm"}),"nvm"),": O ",Object(t.b)("em",{parentName:"p"},"nvm")," \xe9 um conjunto de comandos que sao instalados no ambiente e permitem gerenciar de maneira facil diversas vers\xf5es do ",Object(t.b)("em",{parentName:"p"},"NodeJS & npm"))),Object(t.b)("li",{parentName:"ul"},Object(t.b)("p",{parentName:"li"},"Para gerenciar a execu\xe7\xe3o de diversas releases do projeto podem ser criados scripts com os comandos dentro do arquivo ",Object(t.b)("a",Object.assign({parentName:"p"},{href:"package.json"}),"package.json")," e depois execut\xe1-lo com ",Object(t.b)("inlineCode",{parentName:"p"},"npm run nome_do_script")))))}i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/docs/documentation/projects.mdx"}}),i.isMDXComponent=!0}}]);
//# sourceMappingURL=src-docs-documentation-projects.8423aa1e2ecb0dae0b34.js.map